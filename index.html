<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learning App</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            transition: background-color 0.3s ease;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        .tab-button.active {
            background-color: #d1d5db;
            color: #1f2937;
        }
        .tab-content {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
    </style>
</head>
<body class="bg-gray-100 p-4">
    <div class="container bg-white rounded-3xl shadow-xl overflow-hidden mt-4 mb-4">
        <!-- Tab Navigation -->
        <div class="flex p-2 bg-gray-200 rounded-full mt-4 mx-4">
            <button id="colors-tab" class="tab-button flex-1 py-2 px-4 rounded-full text-sm font-medium transition-colors duration-200">Colors</button>
            <button id="counting-tab" class="tab-button flex-1 py-2 px-4 rounded-full text-sm font-medium transition-colors duration-200">Counting</button>
            <button id="shapes-tab" class="tab-button flex-1 py-2 px-4 rounded-full text-sm font-medium transition-colors duration-200">Shapes</button>
            <button id="letters-tab" class="tab-button flex-1 py-2 px-4 rounded-full text-sm font-medium transition-colors duration-200">Letters</button>
            <button id="animals-tab" class="tab-button flex-1 py-2 px-4 rounded-full text-sm font-medium transition-colors duration-200 active">Animals</button>
        </div>

        <!-- Main Content Area -->
        <div id="content-area" class="tab-content">
            <!-- Content will be dynamically inserted here -->
        </div>

        <!-- Navigation Buttons -->
        <div id="nav-buttons" class="flex justify-between w-full px-4 pb-4 mt-8">
            <button id="prev-button" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-full transition-colors duration-200">Previous</button>
            <button id="next-button" class="bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-4 rounded-full transition-colors duration-200">Next</button>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const colors = [
                { name: 'Red', hex: '#ef4444' },
                { name: 'Blue', hex: '#3b82f6' },
                { name: 'Yellow', hex: '#fcd34d' },
                { name: 'Green', hex: '#22c55e' },
                { name: 'Purple', hex: '#8b5cf6' },
                { name: 'Orange', hex: '#f97316' },
                { name: 'Pink', hex: '#ec4899' },
                { name: 'Black', hex: '#1f2937' },
                { name: 'White', hex: '#f9fafb' },
                { name: 'Brown', hex: '#7c2d12' }
            ];

            const shapes = [
                { name: 'Circle', html: '<div class="w-48 h-48 rounded-full bg-indigo-500 shadow-lg"></div>' },
                { name: 'Square', html: '<div class="w-48 h-48 rounded-lg bg-emerald-500 shadow-lg"></div>' },
                { name: 'Triangle', html: '<div class="w-0 h-0 border-l-[6rem] border-r-[6rem] border-b-[10.4rem] border-l-transparent border-r-transparent border-b-rose-500"></div>' },
                { name: 'Star', html: '<div class="relative w-48 h-48"><div class="absolute inset-0 flex items-center justify-center text-yellow-400 text-9xl">★</div></div>' },
                { name: 'Heart', html: '<div class="relative w-48 h-48"><div class="heart absolute inset-0 text-red-500 text-9xl">❤️</div></div>' }
            ];

            const letters = [
                { letter: 'A', word: 'Apple', image: 'https://placehold.co/150x150/ef4444/ffffff?text=A' },
                { letter: 'B', word: 'Banana', image: 'https://placehold.co/150x150/fcd34d/000000?text=B' },
                { letter: 'C', word: 'Cat', image: 'https://placehold.co/150x150/9ca3af/ffffff?text=C' },
                { letter: 'D', word: 'Dog', image: 'https://placehold.co/150x150/f97316/ffffff?text=D' },
                { letter: 'E', word: 'Elephant', image: 'https://placehold.co/150x150/3b82f6/ffffff?text=E' },
                { letter: 'F', word: 'Fish', image: 'https://placehold.co/150x150/06b6d4/ffffff?text=F' },
                { letter: 'G', word: 'Grapes', image: 'https://placehold.co/150x150/22c55e/ffffff?text=G' },
                { letter: 'H', word: 'Hat', image: 'https://placehold.co/150x150/4b5563/ffffff?text=H' },
                { letter: 'I', word: 'Igloo', image: 'https://placehold.co/150x150/94a3b8/ffffff?text=I' },
                { letter: 'J', word: 'Jellyfish', image: 'https://placehold.co/150x150/f472b6/ffffff?text=J' },
                { letter: 'K', word: 'Kite', image: 'https://placehold.co/150x150/ec4899/ffffff?text=K' },
                { letter: 'L', word: 'Lion', image: 'https://placehold.co/150x150/ca8a04/ffffff?text=L' },
                { letter: 'M', word: 'Monkey', image: 'https://placehold.co/150x150/ef4444/ffffff?text=M' },
                { letter: 'N', word: 'Nest', image: 'https://placehold.co/150x150/8b5cf6/ffffff?text=N' },
                { letter: 'O', word: 'Owl', image: 'https://placehold.co/150x150/f97316/ffffff?text=O' },
                { letter: 'P', word: 'Penguin', image: 'https://placehold.co/150x150/4b5563/ffffff?text=P' },
                { letter: 'Q', word: 'Queen', image: 'https://placehold.co/150x150/a1a1aa/ffffff?text=Q' },
                { letter: 'R', word: 'Rabbit', image: 'https://placehold.co/150x150/be185d/ffffff?text=R' },
                { letter: 'S', word: 'Sun', image: 'https://placehold.co/150x150/fcd34d/000000?text=S' },
                { letter: 'T', word: 'Train', image: 'https://placehold.co/150x150/d1d5db/ffffff?text=T' },
                { letter: 'U', word: 'Umbrella', image: 'https://placehold.co/150x150/3b82f6/ffffff?text=U' },
                { letter: 'V', word: 'Violin', image: 'https://placehold.co/150x150/22c55e/ffffff?text=V' },
                { letter: 'W', word: 'Whale', image: 'https://placehold.co/150x150/06b6d4/ffffff?text=W' },
                { letter: 'X', word: 'Xylophone', image: 'https://placehold.co/150x150/ec4899/ffffff?text=X' },
                { letter: 'Y', word: 'Yacht', image: 'https://placehold.co/150x150/60a5fa/ffffff?text=Y' },
                { letter: 'Z', word: 'Zebra', image: 'https://placehold.co/150x150/9ca3af/ffffff?text=Z' },
            ];
            
            const animals = [
                { name: 'Dog', sound: 'Woof woof!', image: 'https://placehold.co/150x150/4b5563/ffffff?text=Dog' },
                { name: 'Cat', sound: 'Meow meow!', image: 'https://placehold.co/150x150/9ca3af/ffffff?text=Cat' },
                { name: 'Cow', sound: 'Moo!', image: 'https://placehold.co/150x150/99f6e4/000000?text=Cow' },
                { name: 'Pig', sound: 'Oink oink!', image: 'https://placehold.co/150x150/ec4899/ffffff?text=Pig' },
                { name: 'Sheep', sound: 'Baa baa!', image: 'https://placehold.co/150x150/d1d5db/ffffff?text=Sheep' },
                { name: 'Duck', sound: 'Quack quack!', image: 'https://placehold.co/150x150/fcd34d/000000?text=Duck' },
                { name: 'Lion', sound: 'Roar!', image: 'https://placehold.co/150x150/ca8a04/ffffff?text=Lion' },
                { name: 'Elephant', sound: 'Trumpet!', image: 'https://placehold.co/150x150/3b82f6/ffffff?text=Elephant' },
                { name: 'Horse', sound: 'Neigh!', image: 'https://placehold.co/150x150/7c2d12/ffffff?text=Horse' },
            ];

            const navButtons = document.getElementById('nav-buttons');
            const contentArea = document.getElementById('content-area');

            const speakText = (text) => {
                const speech = new SpeechSynthesisUtterance(text);
                window.speechSynthesis.speak(speech);
            };

            const tabs = {
                colors: {
                    button: document.getElementById('colors-tab'),
                    index: 0,
                    data: colors,
                    render: () => {
                        const targetColor = tabs.colors.data[tabs.colors.index];
                        const otherColors = tabs.colors.data.filter(c => c.name !== targetColor.name);
                        
                        function getRandomUniqueColors(arr, count) {
                            const shuffled = arr.sort(() => 0.5 - Math.random());
                            return shuffled.slice(0, count);
                        }
                        
                        const choices = getRandomUniqueColors(otherColors, 3);
                        choices.push(targetColor);
                        choices.sort(() => 0.5 - Math.random());
                        
                        const questionText = `Find the color: ${targetColor.name}`;
                        speakText(questionText);

                        return `<div class="p-8 rounded-2xl flex flex-col items-center justify-center bg-white shadow-md">
                                    <span class="text-4xl font-bold text-gray-800 mb-8">${questionText}</span>
                                    <div id="color-choices" class="grid grid-cols-2 gap-4 w-full max-w-sm">
                                        ${choices.map(c => `
                                            <button class="w-full aspect-square rounded-2xl shadow-lg border-4 border-white transition-all duration-100 hover:scale-105"
                                                    data-color-name="${c.name}"
                                                    style="background-color: ${c.hex};"></button>
                                        `).join('')}
                                    </div>
                                    <div id="feedback-message" class="mt-8 text-2xl font-bold"></div>
                                </div>`;
                    },
                    init: () => {
                        navButtons.classList.add('hidden');
                        document.querySelectorAll('#color-choices button').forEach(button => {
                            button.addEventListener('click', (e) => {
                                const feedbackEl = document.getElementById('feedback-message');
                                if (e.target.dataset.colorName === tabs.colors.data[tabs.colors.index].name) {
                                    feedbackEl.textContent = "Correct!";
                                    feedbackEl.classList.remove('text-red-500');
                                    feedbackEl.classList.add('text-green-500');
                                    speakText('Correct!');
                                    setTimeout(() => {
                                        tabs.colors.index = (tabs.colors.index + 1) % tabs.colors.data.length;
                                        renderContent();
                                    }, 1000);
                                } else {
                                    feedbackEl.textContent = "Try again!";
                                    feedbackEl.classList.remove('text-green-500');
                                    feedbackEl.classList.add('text-red-500');
                                    speakText('Try again!');
                                }
                            });
                        });
                    }
                },
                counting: {
                    button: document.getElementById('counting-tab'),
                    index: 0,
                    data: Array.from({ length: 20 }, (_, i) => i + 1),
                    render: (number) => {
                        const stars = Array.from({ length: number }, (_, i) => `<span class="text-yellow-400 text-5xl">★</span>`).join('');
                        
                        const questionText = `This is the number ${number}.`;
                        
                        return `<div class="p-8 rounded-2xl flex flex-col items-center justify-center bg-white shadow-md">
                                    <div class="flex flex-wrap justify-center mb-4">${stars}</div>
                                    <div class="flex items-center space-x-4">
                                        <button id="speaker-button" class="bg-indigo-500 hover:bg-indigo-600 text-white p-3 rounded-full shadow-lg transition-colors duration-200">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.47-9.544a8 8 0 010 12.112M11 5l-4 4H3a2 2 0 00-2 2v2a2 2 0 002 2h4l4 4V5z" />
                                            </svg>
                                        </button>
                                        <span class="text-6xl font-bold text-gray-800">${number}</span>
                                    </div>
                                </div>`;
                    },
                    init: () => {
                        navButtons.classList.remove('hidden');
                        const questionText = `Let's count! This is the number ${tabs.counting.data[tabs.counting.index]}.`;
                        speakText(questionText);
                        document.getElementById('speaker-button').addEventListener('click', () => {
                            speakText(`This is the number ${tabs.counting.data[tabs.counting.index]}.`);
                        });
                    }
                },
                shapes: {
                    button: document.getElementById('shapes-tab'),
                    index: 0,
                    data: shapes,
                    render: () => {
                        const targetShape = tabs.shapes.data[tabs.shapes.index];
                        const otherShapes = tabs.shapes.data.filter(s => s.name !== targetShape.name);
                        
                        function getRandomUniqueShapes(arr, count) {
                            const shuffled = arr.sort(() => 0.5 - Math.random());
                            return shuffled.slice(0, count);
                        }
                        
                        const choices = getRandomUniqueShapes(otherShapes, 3);
                        choices.push(targetShape);
                        choices.sort(() => 0.5 - Math.random());

                        const questionText = `Find the shape: ${targetShape.name}`;
                        speakText(questionText);

                        return `<div class="p-8 rounded-2xl flex flex-col items-center justify-center bg-white shadow-md">
                                    <span class="text-4xl font-bold text-gray-800 mb-8">${questionText}</span>
                                    <div id="shape-choices" class="grid grid-cols-2 gap-4 w-full max-w-sm">
                                        ${choices.map(s => `
                                            <button class="w-full aspect-square rounded-2xl shadow-lg border-4 border-white transition-all duration-100 hover:scale-105 flex items-center justify-center"
                                                    data-shape-name="${s.name}">
                                                ${s.html}
                                            </button>
                                        `).join('')}
                                    </div>
                                    <div id="feedback-message" class="mt-8 text-2xl font-bold"></div>
                                </div>`;
                    },
                    init: () => {
                        navButtons.classList.add('hidden');
                        document.querySelectorAll('#shape-choices button').forEach(button => {
                            button.addEventListener('click', (e) => {
                                const feedbackEl = document.getElementById('feedback-message');
                                if (e.currentTarget.dataset.shapeName === tabs.shapes.data[tabs.shapes.index].name) {
                                    feedbackEl.textContent = "Correct!";
                                    feedbackEl.classList.remove('text-red-500');
                                    feedbackEl.classList.add('text-green-500');
                                    speakText('Correct!');
                                    setTimeout(() => {
                                        tabs.shapes.index = (tabs.shapes.index + 1) % tabs.shapes.data.length;
                                        renderContent();
                                    }, 1000);
                                } else {
                                    feedbackEl.textContent = "Try again!";
                                    feedbackEl.classList.remove('text-green-500');
                                    feedbackEl.classList.add('text-red-500');
                                    speakText('Try again!');
                                }
                            });
                        });
                    }
                },
                letters: {
                    button: document.getElementById('letters-tab'),
                    index: 0,
                    data: letters,
                    render: () => {
                        const targetLetter = tabs.letters.data[tabs.letters.index];
                        const otherLetters = tabs.letters.data.filter(l => l.letter !== targetLetter.letter);
                        
                        function getRandomUniqueItems(arr, count) {
                            const shuffled = arr.sort(() => 0.5 - Math.random());
                            return shuffled.slice(0, count);
                        }

                        const choices = getRandomUniqueItems(otherLetters, 3);
                        choices.push(targetLetter);
                        choices.sort(() => 0.5 - Math.random());

                        const questionText = `Find the picture that starts with the letter: ${targetLetter.letter}`;
                        speakText(questionText);

                        return `<div class="p-8 rounded-2xl flex flex-col items-center justify-center bg-white shadow-md">
                                    <span class="text-6xl font-bold text-gray-800 mb-8">${targetLetter.letter}</span>
                                    <div id="letter-choices" class="grid grid-cols-2 gap-4 w-full max-w-sm">
                                        ${choices.map(c => `
                                            <button class="w-full aspect-square rounded-2xl shadow-lg border-4 border-white transition-all duration-100 hover:scale-105 flex flex-col items-center justify-center"
                                                    data-word="${c.word}">
                                                <img src="${c.image}" alt="${c.word}" class="w-24 h-24 mb-2">
                                                <span class="text-xl font-bold text-gray-800">${c.word}</span>
                                            </button>
                                        `).join('')}
                                    </div>
                                    <div id="feedback-message" class="mt-8 text-2xl font-bold"></div>
                                </div>`;
                    },
                    init: () => {
                        navButtons.classList.add('hidden');
                        document.querySelectorAll('#letter-choices button').forEach(button => {
                            button.addEventListener('click', (e) => {
                                const feedbackEl = document.getElementById('feedback-message');
                                const selectedWord = e.currentTarget.dataset.word;
                                if (selectedWord === tabs.letters.data[tabs.letters.index].word) {
                                    feedbackEl.textContent = "Correct!";
                                    feedbackEl.classList.remove('text-red-500');
                                    feedbackEl.classList.add('text-green-500');
                                    speakText('Correct!');
                                    setTimeout(() => {
                                        tabs.letters.index = (tabs.letters.index + 1) % tabs.letters.data.length;
                                        renderContent();
                                    }, 1000);
                                } else {
                                    feedbackEl.textContent = "Try again!";
                                    feedbackEl.classList.remove('text-green-500');
                                    feedbackEl.classList.add('text-red-500');
                                    speakText('Try again!');
                                }
                            });
                        });
                    }
                },
                animals: {
                    button: document.getElementById('animals-tab'),
                    index: 0,
                    data: animals,
                    render: (item) => {
                        return `<div class="p-8 rounded-2xl flex flex-col items-center justify-center bg-white shadow-md">
                                    <img src="${item.image}" alt="${item.name}" class="rounded-xl w-48 h-48 mb-4 shadow-lg">
                                    <div class="flex items-center space-x-4 mb-4">
                                        <button id="sound-button" class="bg-purple-500 hover:bg-purple-600 text-white p-3 rounded-full shadow-lg transition-colors duration-200">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.47-9.544a8 8 0 010 12.112M11 5l-4 4H3a2 2 0 00-2 2v2a2 2 0 002 2h4l4 4V5z" />
                                            </svg>
                                        </button>
                                        <span class="text-6xl font-bold text-gray-800">${item.name}</span>
                                    </div>
                                    <span class="text-4xl font-bold text-gray-800">${item.sound}</span>
                                </div>`;
                    },
                    init: () => {
                        navButtons.classList.remove('hidden');
                        document.getElementById('sound-button').addEventListener('click', () => {
                            const currentItem = tabs.animals.data[tabs.animals.index];
                            const speech = new SpeechSynthesisUtterance(`The ${currentItem.name} says, ${currentItem.sound}`);
                            window.speechSynthesis.speak(speech);
                        });
                    }
                }
            };
            
            let currentTab = tabs.animals;

            function renderContent() {
                // Check if the current tab has a specific render function or uses the default one
                if (currentTab === tabs.counting || currentTab === tabs.animals) {
                    const currentItem = currentTab.data[currentTab.index];
                    contentArea.innerHTML = currentTab.render(currentItem);
                } else {
                    contentArea.innerHTML = currentTab.render();
                }
                currentTab.init();
            }

            function updateTabButtons() {
                for (const key in tabs) {
                    const tab = tabs[key];
                    if (tab === currentTab) {
                        tab.button.classList.add('active');
                        tab.button.style.backgroundColor = '#d1d5db';
                        tab.button.style.color = '#1f2937';
                    } else {
                        tab.button.classList.remove('active');
                        tab.button.style.backgroundColor = 'transparent';
                        tab.button.style.color = '#6b7280';
                    }
                }
            }

            function handleNavigation(direction) {
                if (direction === 'next') {
                    currentTab.index = (currentTab.index + 1) % currentTab.data.length;
                } else {
                    currentTab.index = (currentTab.index - 1 + currentTab.data.length) % currentTab.data.length;
                }
                renderContent();
            }

            document.getElementById('next-button').addEventListener('click', () => handleNavigation('next'));
            document.getElementById('prev-button').addEventListener('click', () => handleNavigation('prev'));

            for (const key in tabs) {
                tabs[key].button.addEventListener('click', () => {
                    currentTab = tabs[key];
                    currentTab.index = 0; // Reset index when changing tabs
                    renderContent();
                    updateTabButtons();
                });
            }

            // Initial render
            renderContent();
            updateTabButtons();
        });
    </script>
</body>
</html>
